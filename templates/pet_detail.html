{% extends 'base.html' %}
{% block title %}CompanionCare{% endblock %}

{% block content1 %}{{ Heading }} Companion Profile{% endblock %}

    {% if companion_attributes_dict['new_companion'] %}
        {% set add_or_update = "Add" %}
        {% set Heading = "Add" %}
        {% set action_path = "/new_companion" %}
    {% else %}
        {% set add_or_update = "Update" %}
        {% set Heading = "Update" %}
    {% endif %}

{% block content2 %}
    <div class="row">
        <div class="col-xs-6 col-md-6 col-lg-6">
           {% macro input(name, variable, type, placeholder='', value='', size=20) -%}
                <tr>
                    <td>
                        {{ name }}
                    </td>
                    <td>
                        <input type="{{ type }}" name="{{ variable }}" value="{{
                        value|e }}" size="{{ size }}" placeholder="{{ placeholder }}">
                    </td>
                </tr>
            {%- endmacro %}

            <form action="{{ action_path }}" method="POST">
                <table>
                    {% for name, key in companion_attributes_dict.items() %}
                        {% if name != "logged_in" and name != "new_companion" %}
                            {{ input(name, key[0], key[1], placeholder = key[2]) }}</p>
                        {% endif %}
                    {% endfor %}<br>
                </table>
                <br>
                <div>
                    <input type="submit" class="btn btn-primary" value="{{ add_or_update }} Companion Profile">
                </div>
            </form>




            <form action="/companion/name/{{ companion_name }}" method="POST">
                <input type="hidden" name="delete" value="delete_companion_profile">
                <input type="submit" class="btn btn-primary" value="delete companion profile">
            </form>
        </div><!-- Closing column.-->
        <div class="col-xs-6 col-md-6 col-lg-6">

            <a href="/medications" class="btn btn-primary"> 
                {{ add_or_update }} medications</a>

            <div>
                <a href="/veterinarians" class="btn btn-primary" >{{ add_or_update }} Veterinary Specialists</a>
            </div>

            <div>
                <a href="/photos" class="btn btn-primary" >{{ add_or_update }} Photos</a>
            </div>
            
            <!-- TODO: ONLY SHOW BELOW FOR CREATED PET PROFILES -->

        </div><!-- Closing column.-->
    </div><!-- Closing row.-->

            <form method="POST" id="photoForm" enctype="multipart/form-data" action="/photos/upload" style="display: block">
                <div class="form-group">
                    <div class="row">
                        <div class="col-xs-8 col-sm-8 col-md-4 col-lg-4 col-xs-offset-2 col-sm-offset-2 col-md-offset-4 col-lg-offset-4" align="center">
                            <h3>Upload new photo</h3>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 col-sm-offset-1 col-md-offset-1 col-lg-offset-1">
                            <label id="image_name">Image Name</label>
                        </div><!-- Closing out col.-->
                        <div class="col-xs-8 col-sm-4 col-md-4 col-lg-4 col-sm-offset-1 col-md-offset-1 col-lg-offset-1">
                            <input type="text" name="name" class="form-control" id="name-field">
                        </div><!-- Closing out col.-->
                    </div><!-- Closing out row.-->
                    <div class="row">
                        <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 col-sm-offset-1 col-md-offset-1 col-lg-offset-1">
                            <label id="name">Image to Upload</label>
                        </div><!-- Closing out col.-->
                        <div class="col-xs-8 col-sm-4 col-md-4 col-lg-4 col-sm-offset-1 col-md-offset-1 col-lg-offset-1">
                            <input type="file" name="photo" class="form-control" id="photo-field">
                        </div><!-- Closing out col.-->
                    </div><!-- Closing out row.-->
                    <div class="row">
                        <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 col-sm-offset-1 col-md-offset-1 col-lg-offset-1">
                            <label id="tags">Tags</label>
                        </div><!-- Closing out col.-->
                        <div class="col-xs-8 col-sm-4 col-md-4 col-lg-4 col-sm-offset-1 col-md-offset-1 col-lg-offset-1">
                            <input type="text" name="tags" class="form-control" id="tags-field">
                        </div><!-- Closing out col.-->
                    </div><!-- Closing out row.-->
                </div><!-- Closing out form group.-->
                    <div class="row">
                        <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 col-sm-offset-2 col-md-offset-2 col-lg-offset-2" align="right">
                            <input type="submit" class="btn btn-primary" value="Upload"></input>
                        </div><!-- Closing out col.-->
                    </div><!-- Closing out row.-->
                </div><!-- Closing out form group.-->
            </form>
{% endblock %}