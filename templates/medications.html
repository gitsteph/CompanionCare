{% extends 'base.html' %}
{% block title %}MedAlert (for non-human companions){% endblock %}

{% if companion_name is defined %}
    for {{ companion_name }}
{% endif %}

{% block content1 %}Medications 

{% endblock %}

{% block content2 %}

<!-- View dropdown menu to enable companion selection.  One button enables adding new companion if no companion listed.
-->

    {% macro checkbox_alert(name, variable, type='text', value='', size=20) -%}
         {{ name }} <input type="{{ type }}" name="{{ variable }}" value="{{
            value|e }}" size="{{ size }}">
    {%- endmacro %}

    {% if petmed_dict is defined %}
        {% for petmed_obj, med_obj in petmed_dict.iteritems() %}
            PetMed OBJ: {{ petmed_obj.id }} <br>
            {{ checkbox_alert("alerts", ) }}
            MED OBJ: {{ med_obj.id }} <br>
            MED NAME: {{ med_obj.name }} <br>
        {% endfor %}
        <a href="/alerts/{{ companion_id }}">Add alert</a>

    {% endif %}
    <br>
    <form action="/medications/{{ companion_id }}" method="POST">

        {% macro input(name, variable, type='text', value='', size=20) -%}
             {{ name }} <input type="{{ type }}" name="{{ variable }}" value="{{
                value|e }}" size="{{ size }}">
        {%- endmacro %}

        {% for variable, name in medication_attributes_dict.items() %}
            {{ input(name, variable) }}</p>
        {% endfor %}

        <div>
            <input type="submit" value="Add medication">
        </div>
    </form>

<!--
Enable button to add new medications.
 -->


{% endblock %}